<!-- <head>
  <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'self'; style-src 'self' https://cdn.jsdelivr.net;"
  />
</head> -->

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css"
/>

<style>
  body {
    padding: 2em;
  }
  /* div {
    margin: 1em;
  } */
  input {
    display: block;
  }
</style>

<h1>Instance Maker</h1>

<label for="name">Name</label>
<input type="text" class="input__field" id="name" value="Your Pet Name" />

<label for="username">Username</label>
<input
  type="text"
  class="input__field"
  id="username"
  value="Your Pet Username"
/>

<label for="description">Description</label>
<input
  type="textarea"
  class="textarea"
  id="description"
  value="Your Post Goes Here"
  rows="2"
/>

<div class="switch">
  <input class="switch__toggle" id="dark-mode-on" type="checkbox" />
  <label class="switch__label" for="dark-mode-on">Dark Mode</label>
</div>

<div class="radio">
  <input
    class="radio__button"
    id="radioButton1"
    type="radio"
    name="variantGroup"
    value="1"
  />
  <label class="radio__label" for="radioButton1">No Image </label>

  <input
    class="radio__button"
    id="radioButton2"
    type="radio"
    name="variantGroup"
    value="2"
  />
  <label class="radio__label" for="radioButton2">Single Image </label>

  <input
    class="radio__button"
    id="radioButton3"
    type="radio"
    name="variantGroup"
    value="3"
  />
  <label class="radio__label" for="radioButton3">Carousal </label>
</div>

<div>
  <button class="button button--primary" id="submit-post">Submit</button>
</div>

<script>
  document.getElementById("submit-post").onclick = () => {
    const name = document.getElementById("name").value;
    const username = document.getElementById("username").value;
    const description = document.getElementById("description").value;
    const darkModeState = document.getElementById("dark-mode-on").checked;
    const imageVariant = document.querySelector(
      "input[name='variantGroup']:checked"
    ).value;

    console.log("Submit button clicked");
    console.log(name);
    console.log(username);
    console.log(description);
    console.log(darkModeState);
    console.log(imageVariant);

    parent.postMessage(
      {
        pluginMessage: {
          name,
          username,
          description,
          darkModeState,
          imageVariant,
        },
      },
      "*"
    );
  };
</script>
